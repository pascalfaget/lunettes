<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Teachable Machine Webcam Integration</title>
</head>
<body>
    <h1>Teachable Machine Webcam Integration</h1>
    <video id="webcam" autoplay></video>
    <h2>Prediction: <span id="result">Loading...</span></h2>

    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-converter"></script>
    <script>
        const url = "https://teachablemachine.withgoogle.com/models/Dtgvd54B5/";
        let model, webcam;

        async function init() {
            model = await tmImage.load(url + "model.json", url + "metadata.json");
            webcam = new tmImage.Webcam(320, 240, true); 
            await webcam.setup(); 
            await webcam.play();
            window.requestAnimationFrame(loop);
        }

        async function loop() {
            webcam.update(); 
            const prediction = await model.predict(webcam.canvas);
            document.getElementById("result").innerText = prediction[0].className + ": " + prediction[0].probability.toFixed(2);
            window.requestAnimationFrame(loop);
        }

        init();
    </script>
</body>
</html>